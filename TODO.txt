-------------------------------------------------------------------------------
-- todo
-------------------------------------------------------------------------------
-- rewrite intro text
-- add npc dialogue
-- add sounds
    -- move
    -- open door
    -- go on stairs
    -- pick up item
    -- cast spell
    -- attack
    -- get hit
    -- die
    -- dialogue
    -- use item
    -- cancel
    -- open menu
    -- start game
-- add music
    -- title screen - 
    -- area 1 dungeon - 
    -- area 2 - 
    -- area 2 dungeon - 
    -- area 3 - 
    -- area 3 dungeon - 
    -- game over (dead) - 
    -- game over (won) - 
-- add more sprites:
    -- tome
    -- house interior objects: bed, jug, stove, table with something on it
    -- ruins: cobwebs, cobwebs #2, broken table, broken chair
    -- other: flowers, flowers #2, bush

sfx:
63 move
62 open door
61 go on stairs
60 attack
59 cast beguile
58 cast other spell
57 dialogue
56 pick up item
55 start game
54 consume item
53 chest opening
52 item popping out of chest

music:
4  game_c4 - game
0  main1 - game over
20 court1 - title screen

unused:
drama1 (area 3 dungeon) 1/4
game_c10 (game over, won) 1/2
game_b4 (normal) 1/2
game_c5 (area 2) 1/3
game_b6 (dungeon 2) 1/2
mystery1 (dead / dungeon)
game_c2 (area 1)
game_a2 (area 1)
game_b1 (area 1)
game_c1 (area 2)
game_c8 (won)
game_c6
game_c11
game_b3
game_b2
game_a6

-------------------------------------------------------------------------------
-- maybe
-------------------------------------------------------------------------------
-- (?) followers do turn actions before enemies
-- (?) game over after x turns
-- (?) score system (turns left * 10 + # kills - hp healed)
-- (?) make end game (win) screen prettier (add confetti background animation)
-- (?) add fog effect to area 2 & 3
-- (?) add spellcasting animation
-- (?) multiple targets (queue system)
-- (?) help screen with tips
-- (?) swap x and z buttons
-- (?) food and hunger
-- (?) split entities into multiple tables (to improve performance)
-- (?) xp and level up
-- (?) traps
-- (?) equippable items
-- (?) ranged combat
-- (?) palette swapping on enemies
-- (?) character stats
-- (?) increased attack distance for some enemies (2 tiles)
-- (?) increased movement speed for some enemies (2-3 tiles per turn)
-- (?) golden chest / mimic chest
-- (?) portals (teleport)
-- (?) debug menu
-- (?) mouse support
-- (?) senses (hearing / smell)
-- (?) movement speed stat
-- (?) pathfinding (a-star)
-- (?) field of view (shadowcasting)
-- (?) procedural system for drawing roads and grass with shapes instead of sprites
-- (?) randomly generated dungeons (underworld)
-- (?) player name
-- (?) companion name



-------------------------------------------------------------------------------
-- plan
-------------------------------------------------------------------------------
characters:
    x  magus
    x  cat/dog (companion)
    x  balthasar (dinosaur)
    x  dardanius (mushroom man)

enemies:
    x  1,slime:1xp,2hp,1dmg
    x  1,hobgoblin:3xp,4hp,3dmg
    x  2,bat:2xp,4hp,2dmg
    x  2,ghoul:5xp,5hp,6dmg,ranged
    x  3,skull:4xp,6hp,4dmg
    x  3,vampire:7xp,10hp,8dmg
    x  4,demon:6xp,12hp,6dmg

status effects:
    x  (enemy/player) poisoned: -2hp every turn
    x  (enemy) sleep: skip turn
    x  (enemy) charmed: enemy becomes ally (until hit 3 times)
    x  (enemy) scared: moves away from source of effect

consumables:
    x  red potion (+15hp)
    x  green potion (poisoned status)
    x  yellow potion (no effect)
    -  dumpling (+5hp)
    -  ramen bowl (+10hp)

spells:
    x  beguile:cast charm on enemy, max 5 at the same time, 48 turns cooldown
    x  terrify: cast fear on enemy, lasts 16 turns, 24 turns cooldown
    x  sleep: cast sleep on enemy, lasts 16 turns, 24 turns cooldown
    x  poison: cast poison on enemy, lasts 6 turns, 24 turns cooldown
    -  teleport: teleport enemy to random visible location
    -  detect trap: finds traps within a distance of 3 from player

tips:
    - use "look" mode to attack diagonally